# 索引
## 索引结构
- B+树
  > 页的默认大小为16KB

  > **非叶子节点中只保存数据key和指针，只有在叶子节点才有数据**

  > 将B+树和链表相结合，在**同层节点与节点之间使用双向链表连接**，在叶子节点的内部数据与数据直接用单向链表连接，这样更**方便于范围查询**

## 索引类型
- 聚簇索引
  > 每个InnoDB表都有一个特殊的索引，称为聚簇索引，用于存储行数据。通常，聚簇索引与主键同义。

  > 聚集索引确定表中数据的物理顺序

- 非聚簇索引
  > 非聚集索引的话其实就是一个普通索引，但是非聚集索引不存储全部数据，只存聚集索引的key

  > 通过非聚集索引查找的过程是先找到该索引key对应的聚集索引的key，然后再拿聚集索引的key到主键索引树上查找对应的数据，这个过程称为回表！

- 联合索引
  > 遵循最左匹配原则
  > 覆盖索引返回，如果索引中的列数据全部包含要返回的列，则不会再进行回表查询

# 锁


# 事务

# 主从同步

# 查询优化

# 其他
1. 导致 MySQL 索引失效的常见场景有以下 6 种
    > 联合索引不满足最左匹配原则  
    > 模糊查询最前面的为不确定匹配字符  
    > 索引列参与了运算
    > 索引列使用了函数
    > 索引列存在类型转换
    > 索引列使用 is not null 查询

2. 为什么建议使用自增主键
   > mysql中每次新增数据，都是将一个页写满，然后新创建一个页继续写，这里其实是有个隐含条件的，那就是主键自增！主键自增写入时新插入的数据不会影响到原有页，插入效率高！且页的利用率高！但是如果主键是无序的或者随机的，那每次的插入可能会**导致原有页频繁的分裂，影响插入效率！降低页的利用率**！这也是为什么在innodb中建议设置主键自增的原因！